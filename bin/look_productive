#!/bin/sh

# read -d '' expr << EOF
# (import <nixpkgs> {}).fetchurl {
#   url = "mirror://kernel/linux/kernel/v4.x/linux-4.4.38.tar.xz";
#   sha256 = "19hn51cpyvq3igilm0xw4ivbmdah5ryah6rpkwgqly351djrxvbp";
# }
# EOF
# linux=$(nix-build --no-out-link -E "$expr")

# url=https://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/plain/crypto/ctr.c?id=refs/tags/v4.4.38
# curl $url | vim - -c 'norm 300G'

read -d '' expr << EOF
(import <nixpkgs> {}).fetchurl {
    url = "https://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/plain/crypto/ctr.c";
    sha256 = "0swgyxaaz6qngq2ividcwc6mv96ihy13g7vy3x9ji6j561k69b5y";
}
EOF
file=$(nix-build --no-out-link -E "$expr")
vim $file -c 'norm 252G'
