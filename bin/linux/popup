#!/bin/sh

set -e

usage='usage: popup ROWS COLS COMMAND'

x="$1"
y="$2"
cmd="$3"

if [ -z "$x" -o -z "$y" -o -z "$cmd" ]; then
    echo "$usage" >&2
    exit 1
fi

root=$(xwininfo -root | sed -nE 's/^.*Window id: ([^ ]+).*$/\1/p')
urxvtdo -e "$cmd" -geometry "${x}x${y}+9999+9999" -xrm "*transient-for: $root"
