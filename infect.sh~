#!/bin/bash
############################
# Makes all necessary symlinks in ~
# and moves old ones to $OLD
############################

OLD=~/dotfiles_old           # old dotfiles backup dir

read -p "INPUT \"c\" FOR CORE OR \"a\" FOR All: " $CHOICE

if [ $CHOICE == "c" ] ; then
    $DIRS="core"
elif [ $CHOICE == "a" ] ; then
    $DIRS="core extras"
else
    $DIRS=""
fi

mkdir -p $OLD

for DIR in $DIRS ; do
    cd $DIR
    for FILE in ./* ; do
        mv ~/$FILE $OLD
        ln -s $FILE ~
    done
    cd ..
done
